# PATH Gateway Configuration for Docker Compose
# Gateway: pokt15vzxjqklzjtlz7lahe8z2dfe9nm5vxwwmscne4

# Redis Configuration (for shared state with relayers)
redis_config:
  address: "redis:6379"
  password: ""
  db: 0
  pool_size: 10
  dial_timeout: 5s
  read_timeout: 3s
  write_timeout: 3s

# Router Configuration
router_config:
  port: 3069
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s
  websocket_message_buffer_size: 8192

# Logger Configuration
logger_config:
  level: "debug"

# Metrics Configuration
metrics_config:
  prometheus_addr: ":9096"
  pprof_addr: ":6060"

# Full Node Configuration
full_node_config:
  rpc_url: http://validator:26657
  grpc_config:
    host_port: validator:9090
    insecure: true
  lazy_mode: false
  session_rollover_blocks: 4

# Gateway Configuration
gateway_config:
  # Centralized mode - gateway owns and signs with app keys directly
  gateway_mode: "centralized"
  gateway_address: "pokt15vzxjqklzjtlz7lahe8z2dfe9nm5vxwwmscne4"
  gateway_private_key_hex: "cf09805c952fa999e9a63a9f434147b0a5abfd10f268879694c6b5a70e1ae177"
  # App private keys from all-keys.yaml (app1-app4)
  owned_apps_private_keys_hex:
    - "2d00ef074d9b51e46886dc9a1df11e7b986611d0f336bdcf1f0adce3e037ec0a"  # app1 - develop-http
    - "7e7571a8c61b0887ff8a9017bb4ad83c016b193234f9dc8b6a8ce10c7c483600"  # app2 - develop-websocket
    - "7cbbaa043b9b63baa7d6bb087483b0a6a9f82596c19dce4c5028eb43e5b63674"  # app3 - develop-stream
    - "84e4f2257f24d9e1517d414b834bbbfa317e0d53fef21c1528a07a5fa8c70d57"  # app4 - develop-grpc

  # Disable reputation for localnet testing (simple endpoint selection)
  reputation_config:
    enabled: false

  # Disable retries for localnet (simplifies debugging)
  retry_config:
    enabled: false

  # Disable health checks for localnet
  active_health_checks:
    enabled: false

  # Service configurations - 4 localnet services
  services:
    - id: develop-http
      type: "generic"
      rpc_types: ["json_rpc"]
      latency_profile: "standard"
    - id: develop-websocket
      type: "generic"
      rpc_types: ["websocket"]
      latency_profile: "standard"
    - id: develop-stream
      type: "generic"
      rpc_types: ["rest"]
      latency_profile: "standard"
    - id: develop-grpc
      type: "generic"
      rpc_types: ["grpc"]
      latency_profile: "standard"

# Endpoint configuration - map services to relayer
# Supplier address must match what's staked in genesis.json
endpoints_config:
  - service_id: "develop-http"
    path: "/v1"
    suppliers:
      - address: "pokt19a3t4yunp0dlpfjrp7qwnzwlrzd5fzs2gjaaaj"
        url: "http://relayer:8080"
  - service_id: "develop-websocket"
    path: "/v1/ws"
    suppliers:
      - address: "pokt19a3t4yunp0dlpfjrp7qwnzwlrzd5fzs2gjaaaj"
        url: "http://relayer:8080"
  - service_id: "develop-stream"
    path: "/v1/stream"
    suppliers:
      - address: "pokt19a3t4yunp0dlpfjrp7qwnzwlrzd5fzs2gjaaaj"
        url: "http://relayer:8080"
  - service_id: "develop-grpc"
    path: "/v1/grpc"
    suppliers:
      - address: "pokt19a3t4yunp0dlpfjrp7qwnzwlrzd5fzs2gjaaaj"
        url: "http://relayer:8080"
